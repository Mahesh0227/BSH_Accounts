<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BSH EXPENSES ‚Äî Dashboard (Tabs)</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#2f8afc',
            'primary-hover': '#2878e6',
            muted: '#6b7280',
          },
          fontFamily: {
            sans: ['Inter', 'ui-sans-serif', 'system-ui', '-apple-system', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', 'sans-serif'],
          },
          boxShadow: {
            'soft': '0 8px 30px rgba(16,24,40,0.06)',
            'card': '0 4px 12px rgba(0,0,0,0.05)',
          },
          borderRadius: {
            'xl': '12px',
            '2xl': '16px',
          }
        }
      }
    }
  </script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root{
      --brand-blue: #2f8afc;
      --brand-blue-600: #2878e6;
      --muted: #6b7280;
      --card-bg: #ffffff;
      --soft-shadow: 0 8px 30px rgba(16,24,40,0.06);
      --accent-green: #10b981;
      --accent-red: #ef4444;
      --accent-rose: #fca5a5;
      --accent-sky: #bfdbfe;
    }
    body { font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background: #f6f9fb; }
    .card { background: var(--card-bg); border-radius: 10px; box-shadow: var(--soft-shadow); border: 1px solid rgba(15,23,42,0.04); }
    input:focus, select:focus, textarea:focus { outline: none; box-shadow: 0 0 0 6px rgba(47,138,252,0.06); border-color: var(--brand-blue-600); }
    .kpi-icon { width:40px; height:40px; border-radius:10px; display:inline-flex; align-items:center; justify-content:center; }
    .sidebar-link.active { background: linear-gradient(180deg, rgba(47,138,252,0.10), rgba(47,138,252,0.06)); color: var(--brand-blue); box-shadow: inset 0 2px 0 rgba(255,255,255,0.6); border-radius: 8px; }
    .sidebar-link svg { display:block; }

    /* ATTACHMENT BUTTONS */
.attachment-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 5px 12px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 600;
  cursor: pointer;
  background: #fff;
  transition: all .15s ease;
}


.attachment-btn svg {
  width: 14px;
  height: 14px;
  display: block;
  fill: currentColor;   /* üî• icon color follows text */
}


/* BILL */
.attachment-btn.bill {
  color: #2563eb; /* Indigo-600 */
  border: 1px solid rgba(37,99,235,0.35);
  background: rgba(37,99,235,0.06);
}

.attachment-btn.bill:hover {
  background: rgba(37,99,235,0.14);
  box-shadow: 0 4px 12px rgba(37,99,235,0.25);
  transform: translateY(-1px);
}


/* WARRANTY */
.attachment-btn.warranty {
  color: #16a34a; /* Green-600 */
  border: 1px solid rgba(22,163,74,0.35);
  background: rgba(22,163,74,0.06);
}

.attachment-btn.warranty:hover {
  background: rgba(22,163,74,0.14);
  box-shadow: 0 4px 12px rgba(22,163,74,0.25);
  transform: translateY(-1px);
}

.attachment-btn span {
  line-height: 1;      /* üî• removes text offset */
  display: inline-flex;
  align-items: center;
}
.attachment-btn:hover {
  filter: saturate(1.2);
}
/* ================================
   ACTION BUTTONS ‚Äì EDIT / DELETE
   (NO STRUCTURE CHANGE)
================================ */

/* Base button */
.action-btn {
  width: 38px;
  height: 38px;
  border-radius: 12px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: #ffffff;
  cursor: pointer;
  border: 1px solid transparent;
  transition: all 0.18s ease;
  position: relative;
}

/* Icon size */
.action-btn svg {
  width: 16px;
  height: 16px;
}

/* ================= EDIT ================= */
.action-btn.edit {
  border-color: rgba(37,99,235,0.25);
  background: linear-gradient(180deg, #f8fbff, #eef4ff);
}

.action-btn.edit svg path {
  stroke: #2563eb;
}

.action-btn.edit:hover {
  background: linear-gradient(180deg, #eaf1ff, #dbe7ff);
  transform: translateY(-2px) scale(1.05);
  box-shadow: 0 6px 16px rgba(37,99,235,0.25);
}

/* ================= DELETE ================= */
.action-btn.delete {
  border-color: rgba(239,68,68,0.25);
  background: linear-gradient(180deg, #fff6f6, #ffeaea);
}

.action-btn.delete svg path {
  stroke: #ef4444;
}

.action-btn.delete:hover {
  background: linear-gradient(180deg, #ffe4e6, #fecaca);
  transform: translateY(-2px) scale(1.05);
  box-shadow: 0 6px 16px rgba(239,68,68,0.3);
}

/* ================= INLINE CONFIRM (‚úî ‚úñ) ================= */
.action-btn.edit:has(span),
.action-btn.delete:has(span) {
  font-size: 16px;
  font-weight: 700;
}

/* ================= TABLE ROW HOVER ================= */
#expensesTbody tr:hover .action-btn {
  opacity: 1;
}

/* Subtle default state */
#expensesTbody .action-btn {
  opacity: 0.85;
}

/* ================= MOBILE FRIENDLY ================= */
@media (max-width: 640px) {
  .action-btn {
    width: 34px;
    height: 34px;
    border-radius: 10px;
  }
}
body {
      background: linear-gradient(to bottom, #f8fafc, #f1f5f9);
      min-height: 100vh;
    }

    .card {
      background: white;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.06);
      border: 1px solid rgba(15,23,42,0.04);
      transition: all 0.3s ease;
    }

    .card:hover {
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      transform: translateY(-2px);
    }

    .sidebar-link {
      transition: all 0.2s ease;
    }

    .sidebar-link.active {
      background: linear-gradient(135deg, rgba(47,138,252,0.12), rgba(47,138,252,0.06));
      color: #2f8afc;
      border-left: 4px solid #2f8afc;
      border-radius: 12px;
    }

    .btn-primary {
      background: linear-gradient(to right, #2f8afc, #2878e6);
      transition: all 0.3s ease;
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 20px rgba(47,138,252,0.3);
    }

    .btn-danger {
      background: linear-gradient(to right, #ef4444, #dc2626);
    }

    .btn-danger:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 20px rgba(239,68,68,0.3);
    }

    /* input:focus, select:focus, textarea:focus {
      outline: none;
      ring: 4px;
      ring-color: rgba(47,138,252,0.15);
      border-color: #2f8afc;
    } */

    .kpi-icon {
      width: 48px;
      height: 48px;
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255,255,255,0.8);
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    }

  </style>
  <style src="../public/css/dashboard.css"></style>
</head>
<body class="min-h-screen">

  <div class="max-w-[1400px] mx-auto px-6 py-8">

    <div class="flex gap-6">
      <!-- SIDEBAR -->
      <aside class="w-[300px] flex-shrink-0">
        <div class="card p-5 mb-5">
         <div class="flex items-center gap-4 mb-6">
  <div class="w-12 h-12 rounded-2xl bg-gradient-to-br from-[#58a4ff] to-primary flex items-center justify-center text-white shadow-xl">
    <i class="fas fa-chart-column text-2xl"></i>
  </div>
  <div>
    <div class="text-2xl font-bold text-primary">BSH EXPENSES</div>
    <div class="text-sm text-muted mt-1">Financial Management System</div>
  </div>
</div>

<div class="border-t border-gray-200 pt-6">
  <div class="text-sm font-semibold text-gray-700 mb-4">Filter Data</div>
  
  <div class="space-y-4">
    <div>
      <label class="block text-xs font-medium text-gray-600 mb-2">Year</label>
      <select id="filterYear" class="w-full px-4 py-3 rounded-xl border border-gray-200 text-sm focus:border-primary focus:ring-4 focus:ring-primary/10 transition">
        <option>2027</option>
        <option>2026</option>
        <option selected>2025</option>
        <option>2024</option>
        <option>2023</option>
        <option>2022</option>
        <option>2021</option>
        <option>2020</option>
      </select>
    </div>

    <div>
      <label class="block text-xs font-medium text-gray-600 mb-2">Month</label>
      <select id="filterMonth" class="w-full px-4 py-3 rounded-xl border border-gray-200 text-sm focus:border-primary focus:ring-4 focus:ring-primary/10 transition">
        <option>All Months</option>
        <option>January</option>
        <option>February</option>
        <option>March</option>
        <option>April</option>
        <option>May</option>
        <option>June</option>
        <option>July</option>
        <option>August</option>
        <option>September</option>
        <option>October</option>
        <option>November</option>
        <option>December</option>
      </select>
    </div>
  </div>
</div>
        </div>

<nav class="card p-4 space-y-1.5">
  <div class="text-xs font-bold text-gray-700 mb-3 uppercase tracking-wider">
    Sections
  </div>

  <ul class="space-y-1">

    <li>
      <a
        href="#"
        data-tab="income"
        class="sidebar-link flex items-center gap-3 px-4 py-2.5 rounded-xl
               bg-[#3b82f6] text-white font-semibold text-[15px]"
      >
        <i class="fa-solid fa-arrow-trend-up text-sm"></i>
        Income
      </a>
    </li>

    <li>
      <a
        href="#"
        data-tab="expenses"
        class="sidebar-link flex items-center gap-3 px-4 py-2.5 rounded-xl
               text-gray-700 hover:bg-gray-100 font-medium text-[15px]"
      >
        <i class="fa-solid fa-arrow-trend-down text-red-500 text-sm"></i>
        Expenses
      </a>
    </li>

    <li>
      <a
        href="#"
        data-tab="savings"
        class="sidebar-link flex items-center gap-3 px-4 py-2.5 rounded-xl
               text-gray-700 hover:bg-gray-100 font-medium text-[15px]"
      >
        <i class="fa-solid fa-piggy-bank text-blue-600 text-sm"></i>
        Savings
      </a>
    </li>

    <li>
      <a
        href="#"
        data-tab="reports"
        class="sidebar-link flex items-center gap-3 px-4 py-2.5 rounded-xl
               text-gray-700 hover:bg-gray-100 font-medium text-[15px]"
      >
        <i class="fa-solid fa-chart-column text-blue-500 text-sm"></i>
        Reports
      </a>
    </li>

    <li>
      <a
        href="#"
        data-tab="download"
        class="sidebar-link flex items-center gap-3 px-4 py-2.5 rounded-xl
               text-gray-700 hover:bg-gray-100 font-medium text-[15px]"
      >
        <i class="fa-solid fa-download text-blue-500 text-sm"></i>
        Download Data
      </a>
    </li>

    <li>
      <a
        href="#"
        data-tab="upload"
        class="sidebar-link flex items-center gap-3 px-4 py-2.5 rounded-xl
               text-gray-700 hover:bg-gray-100 font-medium text-[15px]"
      >
        <i class="fa-solid fa-upload text-blue-500 text-sm"></i>
        Upload Data
      </a>
    </li>
    <li>
  <a
    href="#"
    data-tab="change-password"
    class="sidebar-link flex items-center gap-3 px-4 py-2.5 rounded-xl
           text-gray-700 hover:bg-gray-100 font-medium text-[15px]">
    <i class="fa-solid fa-key text-purple-500 text-sm"></i>
    Change Password
  </a>
</li>

    <li id="adminMenu">
      <a
        href="/admin-dashboard"
        class="sidebar-link flex items-center gap-3 px-4 py-2.5 rounded-xl
               text-gray-700 hover:bg-gray-100 font-medium text-[15px]"
      >
        <i class="fa-solid fa-user-shield text-orange-500 text-sm"></i>
        Admin Panel
      </a>
    </li>

  </ul>
</nav>


<script>
  const sidebarLinks = document.querySelectorAll(".sidebar-link");

  sidebarLinks.forEach(link => {
    link.addEventListener("click", function (e) {
      // Prevent page jump for #
      if (this.getAttribute("href") === "#") {
        e.preventDefault();
      }

      // Remove active styles from all
      sidebarLinks.forEach(item => {
        item.classList.remove("bg-[#3b82f6]", "text-white", "font-semibold");
        item.classList.add("text-gray-700", "font-medium");
      });

      // Add active styles to clicked item
      this.classList.remove("text-gray-700", "font-medium");
      this.classList.add("bg-[#3b82f6]", "text-white", "font-semibold");
    });
  });
</script>

        <div class="mt-4 text-xs text-slate-500">
          <div class="card p-3 text-center">
    
            <div class="text-slate-700 font-medium">Welcome back!</div>
            <div class="text-slate-400">Track your finances professionally.</div>
          </div>
        </div>
      </aside>

      <!-- MAIN -->
      <main class="flex-1">
        <!-- top header -->
        <div class="flex items-center justify-between mb-6">
          <div class="flex items-center gap-4">
            <h2 class="text-2xl font-semibold text-slate-800">Dashboard</h2>
            <p class="text-sm text-slate-500">Welcome back! Track your finances professionally.</p>
          </div>

          <div class="flex items-center gap-4">
   <button
  id="logoutBtn"
  class="px-5 py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition flex items-center gap-2">
  <i class="fas fa-sign-out-alt"></i> Logout
</button>

          </div>
        </div>

        <!-- KPI cards (always present) -->
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 p-4 bg-gray-50">
  <!-- Monthly Income Total -->
  <div class="bg-gradient-to-br from-green-50 to-emerald-50/30 rounded-3xl p-6 shadow-sm border border-green-100/50">
    <div class="flex items-center justify-between mb-4">
      <p class="text-sm font-medium text-gray-700">Monthly Income Total</p>
      <div class="p-2 bg-green-100 rounded-full">
        <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
        </svg>
      </div>
    </div>
    <p id="kpiIncome" class="text-4xl font-bold text-green-600 mb-2">‚Çπ0.00</p>
    <p class="text-xs text-gray-500">Total income this period</p>
  </div>

  <!-- Monthly Expenses Total -->
<div class="bg-gradient-to-br from-red-50 to-rose-50/30 rounded-3xl p-6 shadow-sm border border-red-100/50">
  <div class="flex items-center justify-between mb-4">
    <p class="text-sm font-medium text-gray-700">Monthly Expenses Total</p>

    <div class="p-2 bg-red-100 rounded-full">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-6 h-6 text-red-600"
      >
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M2.25 6.75l6 6 4.5-4.5 9 9" />
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M21.75 12v6.75h-6.75" />
      </svg>
    </div>
  </div>

  <p id="kpiExpenses" class="text-4xl font-bold text-red-600 mb-2">‚Çπ0.00</p>
  <p class="text-xs text-gray-500">Total expenses this period</p>
</div>


<!-- Monthly Savings Total -->
        <div class="bg-gradient-to-br from-blue-50 to-indigo-50/30 rounded-3xl p-6 shadow-sm border border-blue-100/50">
            <div class="flex items-center justify-between mb-4">
                <p class="text-sm font-medium text-gray-700">Monthly Savings Total</p>
                <div class="p-2 bg-blue-100 rounded-full">
                    <!-- Classic piggy bank icon (from Heroicons style) -->
                    <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z" />
                    </svg>
                </div>
            </div>
            <p id="kpiSavings" class="text-4xl font-bold text-blue-700 mb-2">‚Çπ0.00</p>
            <p class="text-xs text-gray-500">Total savings this period</p>
        </div>

        <!-- In Account (Available Balance) -->
        <div class="bg-gradient-to-br from-teal-50 to-cyan-50/30 rounded-3xl p-6 shadow-sm border border-teal-100/50">
            <div class="flex items-center justify-between mb-4">
                <p class="text-sm font-medium text-gray-700">In Account</p>
                <div class="p-2 bg-teal-100 rounded-full">
                    <!-- Wallet icon (from Heroicons: wallet) -->
                    <svg class="w-6 h-6 text-teal-600" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M2.273 5.625A4.483 4.483 0 015.25 4.5h13.5c1.141 0 2.183.425 2.977 1.125A3 3 0 0018.75 3H5.25a3 3 0 00-2.977 2.625m0 3A4.483 4.483 0 015.25 7.5h13.5c1.141 0 2.183.425 2.977 1.125A3 3 0 0018.75 6H5.25a3 3 0 00-2.977 2.625M5.25 9a3 3 0 00-3 3v6a3 3 0 003 3h13.5a3 3 0 003-3v-6a3 3 0 00-3-3H15a.75.75 0 00-.75.75 2.25 2.25 0 01-4.5 0A.75.75 0 009 9z"/>
                    </svg>
                </div>
            </div>
            <p id="kpiBalance" class="text-4xl font-bold text-teal-700 mb-2">‚Çπ0.00</p>
            <p class="text-xs text-gray-500">Available balance</p>
        </div>
</div>

        <!-- MAIN TAB CONTENT AREA -->
        <div id="tabContainer">

          <!-- INCOME (default) -->
          <section data-panel="income" class="tab-panel">
            <div class="card p-5 mb-6">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold text-slate-800">Add Income</h3>
                <div class="text-sm text-slate-500">Income - <span id="currentMonthIncome">December 2025</span></div>
              </div>

              <form id="addIncomeForm" class="grid grid-cols-1 md:grid-cols-12 gap-3 items-center">
                <div class="md:col-span-5">
                  <label class="text-xs font-medium text-slate-600">Source</label>
                  <input id="source" type="text" placeholder="e.g., Salary, Freelance" class="w-full mt-2 px-3 py-2 rounded-md border border-gray-200 text-sm" />
                </div>

                <div class="md:col-span-3">
                  <label class="text-xs font-medium text-slate-600">Date</label>
                  <input id="date" type="date" class="w-full mt-2 px-3 py-2 rounded-md border border-gray-200 text-sm" />
                </div>

                <div class="md:col-span-2">
                  <label class="text-xs font-medium text-slate-600">Amount (‚Çπ)</label>
                  <input id="amount" type="number" step="0.01" class="w-full mt-2 px-3 py-2 rounded-md border border-gray-200 text-sm" placeholder="0.00" />
                </div>

                <div class="md:col-span-2">
                  <label class="block text-xs text-transparent">Add</label>
                  <button type="submit" class="w-full mt-2 px-4 py-2 rounded-md bg-[#2f8afc] hover:bg-[#2878e6] text-white font-semibold">Add Income</button>
                </div>
              </form>
            </div>

            <div class="card p-5">
              <div class="mb-4 flex items-center justify-between">
                <h4 class="text-green-600 font-semibold">Income - <span id="incomePeriodLabel">Period</span></h4>
                <div id="incomeEmptyHint" class="text-sm text-slate-400">No income records for this period</div>
              </div>

              <div class="overflow-x-auto">
                <table class="min-w-full text-sm divide-y">
                  <thead class="text-slate-500">
                    <tr>
                      <th class="text-left py-3 px-4">Source</th>
                      <th class="text-left py-3 px-4">Date</th>
                      <th class="text-left py-3 px-4">Amount</th>
                      <th class="text-left py-3 px-4">Actions</th>
                    </tr>
                  </thead>
                  <tbody id="incomeTbody" class="bg-white divide-y">
                    <tr>
                      <td colspan="4" class="py-8 text-center text-slate-400">No income records for this period</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </section>

          <!-- EXPENSES -->
          <section data-panel="expenses" class="tab-panel hidden">
<div class="card p-6 mb-6">

  <!-- HEADER -->
  <div class="flex items-center justify-between mb-6">
    <div>
      <h3 class="text-xl font-semibold text-slate-800">Add Expense</h3>
      <p class="text-sm text-slate-500">Track where your money goes</p>
    </div>

    <div class="flex items-center gap-2 px-3 py-1.5 rounded-lg
                bg-slate-100 text-sm text-slate-600">
      üìÖ <span id="currentMonthExpenses">December 2025</span>
    </div>
  </div>

  <!-- FORM GRID -->
  <form id="addExpenseForm" class="grid grid-cols-12 gap-4">

    <!-- DETAILS -->
    <div class="col-span-12 md:col-span-6">
      <label class="text-xs font-semibold text-slate-600 mb-1 block">
        Expense Details
      </label>
      <input
        id="expenseDetails"
        type="text"
        placeholder="Groceries, Rent, Utilities"
        class="w-full px-4 py-2.5 rounded-lg border border-gray-200
               focus:border-[#2f8afc] focus:ring-4 focus:ring-blue-100 text-sm"
      />
    </div>

    <!-- DATE -->
    <div class="col-span-12 md:col-span-3">
      <label class="text-xs font-semibold text-slate-600 mb-1 block">
        Date
      </label>
      <input
        id="expenseDate"
        type="date"
        class="w-full px-4 py-2.5 rounded-lg border border-gray-200
               focus:border-[#2f8afc] focus:ring-4 focus:ring-blue-100 text-sm"
      />
    </div>

    <!-- AMOUNT -->
    <div class="col-span-12 md:col-span-3">
      <label class="text-xs font-semibold text-slate-600 mb-1 block">
        Amount (‚Çπ)
      </label>
      <input
        id="expenseAmount"
        type="number"
        step="0.01"
        placeholder="0.00"
        class="w-full px-4 py-2.5 rounded-lg border border-gray-200
               focus:border-[#2f8afc] focus:ring-4 focus:ring-blue-100 text-sm"
      />
    </div>

    <!-- PAYMENT MODE -->
    <div class="col-span-12 md:col-span-4">
      <label class="text-xs font-semibold text-slate-600 mb-1 block">
        Payment Mode
      </label>
      <select
        id="expensePaymentMode"
        class="w-full px-4 py-2.5 rounded-lg border border-gray-200
               focus:border-[#2f8afc] focus:ring-4 focus:ring-blue-100 text-sm">
        <option value="">Select payment mode</option>
        <option>Cash</option>
        <option>Card</option>
        <option>UPI</option>
      </select>
    </div>

    <!-- BILL -->
    <div class="col-span-12 md:col-span-4">
      <label class="text-xs font-semibold text-slate-600 mb-1 block">
        Bill Attachment
      </label>
      <label
        class="flex items-center justify-center gap-2 px-4 py-2.5
               rounded-lg border border-dashed border-blue-300
               bg-blue-50 text-blue-700 cursor-pointer
               hover:bg-blue-100 text-sm">
        üìé Upload Bill
        <input id="expenseBill" type="file" class="hidden" />
      </label>
    </div>

    <!-- WARRANTY -->
    <div class="col-span-12 md:col-span-4">
      <label class="text-xs font-semibold text-slate-600 mb-1 block">
        Warranty Card
      </label>
      <label
        class="flex items-center justify-center gap-2 px-4 py-2.5
               rounded-lg border border-dashed border-indigo-300
               bg-indigo-50 text-indigo-700 cursor-pointer
               hover:bg-indigo-100 text-sm">
        üßæ Upload Warranty
        <input id="expenseWarranty" type="file" class="hidden" />
      </label>
    </div>

    <!-- SUBMIT -->
    <div class="col-span-12 mt-2">
      <button type="submit"
        class="w-full flex items-center justify-center gap-2
               py-3 rounded-xl text-white font-semibold
               bg-gradient-to-r from-[#2f8afc] to-[#2878e6]
               shadow-md hover:shadow-lg transition">
        ‚ûï Add Expense
      </button>
    </div>

  </form>
</div>



            <div class="card p-5">
             <div class="mb-4 flex items-center justify-between">
  <h4 class="text-rose-600 font-semibold">
    Expenses - <span id="expensesPeriodLabel">Period</span>
  </h4>

  <!-- RIGHT SIDE SEARCH + TOTAL -->
  <div class="flex items-center gap-3">
    <!-- Search -->
    <div class="relative">
      <input
        id="expenseSearch"
        type="text"
        placeholder="Search expenses..."
        class="pl-9 pr-3 py-2 text-sm border border-gray-200 rounded-md focus:border-[#2f8afc]"
      />
      <svg class="absolute left-3 top-2.5" width="14" height="14" viewBox="0 0 24 24" fill="none">
        <circle cx="11" cy="11" r="7" stroke="#6b7280" stroke-width="1.5"/>
        <path d="M20 20L17 17" stroke="#6b7280" stroke-width="1.5" stroke-linecap="round"/>
      </svg>
    </div>

    <!-- Total -->
    <div class="px-3 py-2 rounded-md border border-red-200 bg-red-50 text-sm font-semibold text-red-600">
      Total: ‚Çπ<span id="expenseSearchTotal">0.00</span>
    </div>
  </div>
</div>


              <div class="overflow-x-auto">
                <table class="min-w-full text-sm divide-y">
                  <thead class="text-slate-500">
                    <tr>
                      <th class="text-left py-3 px-4">Expense Details</th>
                      <th class="text-left py-3 px-4">Date</th>
                      <th class="text-left py-3 px-4">Payment Mode</th>
                      <th class="text-left py-3 px-4">Amount</th>
                      <th class="text-left py-3 px-4">Actions</th>
                    </tr>
                  </thead>
                  <tbody id="expensesTbody" class="bg-white divide-y">
                    <tr>
                      <td colspan="5" class="py-8 text-center text-slate-400">No expenses records for this period</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </section>
<!-- FILE PREVIEW MODAL -->
<div id="filePreviewModal"
  class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50">

  <div class="bg-white rounded-lg w-[90%] max-w-3xl p-4 relative">
    <button onclick="closePreview()"
      class="absolute right-3 top-3 text-xl">‚úñ</button>

    <div id="previewContent"
      class="mt-4 max-h-[70vh] overflow-auto text-center">
    </div>

    <div class="text-right mt-3">
      <a id="downloadFileBtn"
        class="px-4 py-2 bg-blue-600 text-white rounded-md"
        download>
        ‚¨á Download
      </a>
    </div>
  </div>
</div>
          <!-- SAVINGS -->
          <section data-panel="savings" class="tab-panel hidden">
            <div class="card p-5 mb-6">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold text-slate-800">Add Savings</h3>
                <div class="text-sm text-slate-500">Savings - <span id="currentMonthSavings">December 2025</span></div>
              </div>

              <form id="addSavingForm" class="grid grid-cols-1 md:grid-cols-12 gap-3 items-center">
                <div class="md:col-span-4">
                  <label class="text-xs font-medium text-slate-600">Date</label>
                  <input id="savingDate" type="date" class="w-full mt-2 px-3 py-2 rounded-md border border-gray-200 text-sm" />
                </div>

                <div class="md:col-span-6">
                  <label class="text-xs font-medium text-slate-600">Saving Details</label>
                  <input id="savingDetails" type="text" placeholder="Enter saving details" class="w-full mt-2 px-3 py-2 rounded-md border border-gray-200 text-sm" />
                </div>

                <div class="md:col-span-2">
                  <label class="text-xs font-medium text-slate-600">Amount (‚Çπ)</label>
                  <input id="savingAmount" type="number" step="0.01" class="w-full mt-2 px-3 py-2 rounded-md border border-gray-200 text-sm" placeholder="0.00" />
                </div>

                <div class="md:col-span-12">
                  <button type="submit" class="w-full mt-2 px-4 py-2 rounded-md bg-[#2f8afc] hover:bg-[#2878e6] text-white font-semibold">Add Savings</button>
                </div>
              </form>
            </div>

            <div class="card p-5">
              <div class="mb-4 flex items-center justify-between">
                <h4 class="text-blue-600 font-semibold">Savings - December 2025</h4>
                <div class="text-sm text-slate-400">No savings records for this period</div>
              </div>

              <div class="overflow-x-auto">
                <table class="min-w-full text-sm divide-y">
                  <thead class="text-slate-500">
                    <tr>
                      <th class="text-left py-3 px-4">Saving Details</th>
                      <th class="text-left py-3 px-4">Date</th>
                      <th class="text-left py-3 px-4">Amount</th>
                      <th class="text-left py-3 px-4">Actions</th>
                    </tr>
                  </thead>
                  <tbody id="savingsTbody" class="bg-white divide-y">
                    <tr>
                      <td colspan="4" class="py-8 text-center text-slate-400">No savings records for this period</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </section>

         <!-- REPORTS -->
<section data-panel="reports" class="tab-panel hidden">
  <div class="card p-5 mb-6 shadow-lg">
    <h3 class="text-xl font-bold text-slate-800 mb-6">
      Annual Reports ‚Äî <span class="text-slate-500 font-medium">2025</span>
    </h3>

    <!-- Charts Grid -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">

      <!-- Monthly Overview (Stacked Bar) -->
      <div class="card p-6 bg-white rounded-xl shadow-md">
        <h4 class="font-semibold text-slate-700 mb-4 text-lg">
          Monthly Overview - 2025
        </h4>
        <canvas id="monthlyOverviewChart" height="200"></canvas>
      </div>

      <!-- Net Amount Trend (Line with Area) -->
      <div class="card p-6 bg-white rounded-xl shadow-md">
        <h4 class="font-semibold text-slate-700 mb-4 text-lg">
          Net Balance Trend - 2025
        </h4>
        <canvas id="netTrendChart" height="200"></canvas>
      </div>

    </div>
  </div>
</section>
<section data-panel="download" class="tab-panel hidden">
  <div class="card p-5">
    <h3 class="text-lg font-semibold text-slate-800 mb-1">
      Download Financial Data
    </h3>
    <p class="text-sm text-slate-500 mb-5">
      Export your income, expenses, and savings data to Excel
    </p>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
      <div>
        <label class="text-xs text-slate-600">Year</label>
        <select id="downloadYear"
          class="w-full mt-2 px-3 py-2 border rounded-md text-sm">
          <option>2027</option>
          <option>2026</option>
          <option>2025</option>
          <option>2024</option>
          <option>2023</option>
          <option>2022</option>
        </select>
      </div>

      <div>
        <label class="text-xs text-slate-600">Month</label>
        <select id="downloadMonth"
          class="w-full mt-2 px-3 py-2 border rounded-md text-sm">
          <option value="ALL">All Months (Yearly)</option>
          <option>January</option>
          <option>February</option>
          <option>March</option>
          <option>April</option>
          <option>May</option>
          <option>June</option>
          <option>July</option>
          <option>August</option>
          <option>September</option>
          <option>October</option>
          <option>November</option>
          <option>December</option>
        </select>
      </div>
    </div>
<button id="downloadExcelBtn"
type="button"
class="inline-flex items-center gap-2 px-4 py-2 mb-5 rounded-md
       border border-gray-200 bg-white text-sm font-medium text-gray-700
       hover:bg-slate-50 hover:border-gray-300
       focus:outline-none focus:ring-2 focus:ring-blue-500">
  <svg class="w-4 h-4 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
    <path d="M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"/>
  </svg>
  Download Data
</button>

  </div>
</section>
<section data-panel="upload" class="tab-panel hidden">

  <!-- UPLOAD CARD -->
  <div class="card p-6 max-w-3xl">

<div class="flex items-center gap-3 mb-2">
  <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center">
    <svg class="w-6 h-6 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
            d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
    </svg>
  </div>
  <h3 class="text-lg font-semibold text-slate-800">
    Upload Financial Data
  </h3>
</div>

    <p class="text-sm text-slate-500 mb-4">
      Upload your existing financial data from an Excel file
    </p>

    <!-- DOWNLOAD TEMPLATE -->
    <button onclick="downloadTemplate()"
  class="inline-flex items-center gap-2 px-4 py-2 mb-5 rounded-md
               border border-gray-200 bg-white text-sm font-medium text-gray-700
               hover:bg-slate-50 hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
  <svg class="w-4 h-4 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
    <path d="M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"/>
  </svg>Download Template
    </button>

<!-- FILE INPUT -->
<div class="border-2 border-dashed border-blue-300 rounded-xl p-6
            flex items-center justify-between bg-blue-50/70
            transition-colors duration-200 hover:bg-blue-50">

  <div class="flex items-center gap-4">
    <!-- Document Icon -->
    <div class="w-10 h-10 rounded-lg bg-white shadow-sm flex items-center justify-center">
      <svg class="w-6 h-6 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
      </svg>
    </div>

    <!-- File Name Display -->
    <div>
      <p class="text-sm font-medium text-slate-700">
        <span id="selectedFileName">No file chosen</span>
      </p>
      <p class="text-xs text-slate-500 mt-1">Accepted: .xlsx, .xls</p>
    </div>
  </div>

  <!-- Choose File Button -->
  <label class="cursor-pointer inline-flex items-center gap-2 px-5 py-2.5 rounded-lg
                 bg-blue-600 text-white font-medium text-sm
                 hover:bg-blue-700 active:scale-98 transition-all shadow-sm">
    <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
    </svg>
    Choose File
    <input id="excelFileInput" type="file" accept=".xlsx,.xls" class="hidden" />
  </label>
</div>
    <!-- UPLOAD BUTTON -->
<button id="uploadExcelBtn"
  class="mt-4 inline-flex items-center gap-2.5 px-6 py-3 bg-[#2f8afc] hover:bg-[#2878e6]
         active:bg-[#236ad0] text-white rounded-lg text-sm font-semibold
         shadow-md hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-blue-300
         transition-all duration-200 active:scale-[0.98]">
  <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
  </svg>
  Upload Excel
</button>

    <!-- UPLOAD MESSAGE -->
    <div id="uploadMsg"
      class="hidden mt-3 px-4 py-2 rounded-md text-sm font-medium">
    </div>

  </div>
</section>
<!-- CHANGE PASSWORD -->
<section data-panel="change-password" class="tab-panel hidden">
  <div class="card p-8 max-w-xl mx-auto">
    <!-- Header -->
    <div class="flex items-center gap-4 mb-8">
      <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-primary to-primary-hover flex items-center justify-center text-white shadow-lg">
        <i class="fas fa-key text-xl"></i>
      </div>
      <div>
        <h3 class="text-2xl font-bold text-gray-900">Change Password</h3>
        <p class="text-sm text-muted mt-1">Update your account password securely</p>
      </div>
    </div>

    <form id="changePasswordForm" class="space-y-7">

      <!-- NEW PASSWORD -->
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-3">
          New Password
        </label>

        <div class="relative">
          <input
            id="newPassword"
            type="password"
            class="w-full px-5 py-4 pr-14 rounded-xl border border-gray-200
                   focus:border-primary focus:ring-4 focus:ring-primary/10 text-base transition-shadow"
            placeholder="Enter new password"
          />

          <!-- Eye Icon -->
          <button type="button"
            onclick="togglePassword('newPassword', this)"
            class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-primary transition">
            <i class="fas fa-eye text-lg"></i>
          </button>
        </div>
      </div>

      <!-- CONFIRM PASSWORD -->
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-3">
          Confirm Password
        </label>

        <div class="relative">
          <input
            id="confirmPassword"
            type="password"
            class="w-full px-5 py-4 pr-14 rounded-xl border border-gray-200
                   focus:border-primary focus:ring-4 focus:ring-primary/10 text-base transition-shadow"
            placeholder="Re-enter new password"
          />

          <!-- Eye Icon -->
          <button type="button"
            onclick="togglePassword('confirmPassword', this)"
            class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-primary transition">
            <i class="fas fa-eye text-lg"></i>
          </button>
        </div>
      </div>

      <!-- SUBMIT -->
      <button type="submit"
        class="w-full py-4.5 rounded-xl text-white font-bold text-lg
               bg-gradient-to-r from-primary to-primary-hover
               shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300
               flex items-center justify-center gap-3">
        <i class="fas fa-lock"></i>
        Update Password
      </button>

      <!-- MESSAGE -->
      <div id="changePasswordMsg"
        class="hidden mt-4 px-5 py-3 rounded-xl text-center text-base font-medium">
      </div>

    </form>
  </div>
</section>


        </div>
        <!-- end tabContainer -->
      </main>
    </div>
  </div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="../js/api.js"></script>
<script src="/js/upload.js"></script>
<script src="/js/income.js"></script>
<script src="/js/expenses.js"></script>
<script src="/js/savings.js"></script>
<script src="/js/reports.js"></script>
<script src="/js/download.js"></script>
<script src="/js/dashboard.js"></script>
<script src="/js/change-password.js"></script>

<script>
  flatpickr("#expenseDate", {
  dateFormat: "Y-m-d",
  maxDate: "today",
  allowInput: true,
  monthSelectorType: "dropdown"
});
flatpickr("#savingDate", {
  dateFormat: "Y-m-d",
  maxDate: "today",
  allowInput: true,
  monthSelectorType: "dropdown"
});


document.addEventListener("DOMContentLoaded", () => {

  const role = localStorage.getItem("bsh_role");
  // const adminMenu = document.getElementById("adminMenu");

  if (role === "ADMIN" || role === "SUPER_ADMIN") {
    adminMenu.classList.remove("none"); // ‚úÖ SHOW
  } else {
    adminMenu.classList.add("hidden");    // ‚ùå HIDE
  }
});



</script>

</body>
</html>
